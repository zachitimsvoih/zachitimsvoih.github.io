<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="yandex-verification" content="5ba4f92bb0a9aeda" />

  <title>Помощь юриста — первичная консультация, контракты, выплаты | Защитим СВОих</title>
  <meta name="description"
        content="Помощь юриста - первичная консультация, помощь по контрактам, выплатам, увольнению и вопросам СВО. Конфиденциально. Защитим СВОих">

  <!-- =========================
       СТИЛИ (CSS)
       ========================= -->
  <style>
    /* ---------- Переменные ---------- */
    :root {
      --bg: #f4efe8;      /* фон страницы */
      --card: #ffffff;    /* фон карточек */
      --accent: #3a2f2a;  /* основной акцент */
      --muted: #6b625c;   /* вспомогательный цвет */
      --text: #1f1b18;    /* основной цвет текста */
      --border: #e3dbd2;  /* границы */
    }

    html { scroll-behavior: smooth; }
    *, *::before, *::after { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, system-ui, 'Segoe UI', Roboto, Arial;
      line-height: 1.6;
      color: var(--text);
      background: var(--bg);
      overflow-x: hidden;
    }

    /* -------------------------------------------------
       ХЕДЕР (фикс‑бар + размытие)
       ------------------------------------------------- */
    header {
      background: rgba(244,239,232,0.9);
      backdrop-filter: blur(6px);
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 1px solid var(--border);
    }
    .container { max-width:1120px; margin:0 auto; padding:22px; }

    /* -------------------------------------------------
       НАВИГАЦИЯ (логотип, меню, бургер)
       ------------------------------------------------- */
    .nav { display:flex; justify-content:space-between; align-items:center; gap:18px; position:relative; }
    .brand { display:flex; align-items:center; gap:12px; }

    .logo {
      width:120px; height:120px;
      border-radius:12px;
      overflow:hidden;
      background:#fff;
      display:flex; align-items:center; justify-content:center;
    }
    .logo img { width:100%; height:100%; object-fit:contain; }

    nav.menu a {
      color:var(--muted);
      text-decoration:none;
      font-weight:600;
      margin-right:12px;
    }
    nav.menu a:hover { color:var(--accent); }

    .burger { display:none; background:none; border:none; cursor:pointer; padding:8px; position:relative; z-index:101; }
    .burger span {
      display:block; width:26px; height:3px;
      background:var(--accent);
      margin:5px 0;
      border-radius:2px;
      transition:.4s;
    }
    .burger.active span:nth-child(1){ transform:rotate(45deg) translate(5px,5px); }
    .burger.active span:nth-child(2){ opacity:0; }
    .burger.active span:nth-child(3){ transform:rotate(-45deg) translate(5px,-5px); }

    /* -------------------------------------------------
       СЕКЦИИ (общие отступы)
       ------------------------------------------------- */
    section { padding:36px 0; border-top:1px solid rgba(0,0,0,0.03); }
    h1,h2,h3 { letter-spacing:-0.2px; }

    /* -------------------------------------------------
       HERO
       ------------------------------------------------- */
    .hero {
      display:grid;
      grid-template-columns:1fr 380px;
      gap:32px;
      align-items:center;
    }
    .badge { display:inline-block; background:#ede4da; color:var(--accent); padding:6px 12px; border-radius:999px; font-weight:700; margin-bottom:14px; }
    h1 { font-size:30px; margin:0 0 14px; }
    .lead { color:var(--muted); margin:0 0 22px; }
    .cta { display:flex; gap:14px; flex-wrap:wrap; }
    .btn {
      background:var(--accent);
      color:#fff;
      padding:13px 18px;
      border-radius:10px;
      border:0;
      cursor:pointer;
      font-weight:700;
      transition:background .3s, transform .2s;
    }
    .btn:hover {
      background:#2c2622;
      transform:translateY(-2px);
      box-shadow:0 4px 12px rgba(0,0,0,0.15);
    }
    .btn.ghost {
      background:transparent;
      color:var(--accent);
      border:2px solid var(--accent);
    }

    .card {
      background:var(--card);
      padding:20px;
      border-radius:14px;
      border:1px solid var(--border);
      box-shadow:0 8px 22px rgba(0,0,0,.04);
      overflow-wrap:break-word;
    }

    /* убираем фон и паддинги у карточек внутри карусели */
    .carousel-item .card { background:transparent; padding:0; border:none; box-shadow:none; }

    .hero aside {
      flex:0 0 auto;
      width:100%;
      max-width:350px;
      min-width:0;
    }

    /* -------------------------------------------------
       СЕРВИСЫ
       ------------------------------------------------- */
    .services { display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-top:22px; }
    .service {
      display:flex; flex-direction:column;
      background:var(--card);
      border:1px solid var(--border);
      border-radius:14px;
      box-shadow:0 6px 16px rgba(0,0,0,.04);
      transition:transform .3s ease, box-shadow .3s ease;
      /* ← фиксируем вес текста внутри карточки, чтобы он не выглядел «тонким» */
      font-weight:500;          /* средний вес, читаемо и не жирно */
    }
    .service:hover {
      transform:translateY(-4px);
      box-shadow:0 12px 24px rgba(0,0,0,.08);
    }
    .service img {
      width:100%; max-height:180px; object-fit:cover; border-radius:8px; margin-bottom:12px;
    }
    .service strong { display:block; margin-bottom:6px; }
    .service p { margin:0; }      /* убираем лишние отступы у абзацев внутри карточки */

    .cols { display:grid; grid-template-columns:1fr 1fr; gap:18px; }
    .grid-3 { display:grid; grid-template-columns:repeat(3,1fr); gap:18px; }

    .phone { font-weight:800; color:var(--accent); text-decoration:none; }
    .lead-small { color:var(--muted); font-size:15px; }

    form input, form textarea {
      width:100%; padding:11px; border:1px solid var(--border); border-radius:8px; margin-bottom:12px; font-family:inherit;
    }
    form button { width:100%; }

    /* -------------------------------------------------
       ОТЗЫВЫ
       ------------------------------------------------- */
    .reviews { padding:60px 0; }
    .reviews-title { text-align:center; font-size:32px; margin-bottom:40px; color:var(--accent); }
    .reviews-grid { display:grid; grid-template-columns:repeat(auto-fit, minmax(280px,1fr)); gap:24px; }
    .review-card { background:var(--card); border:1px solid var(--border); border-radius:16px; padding:24px; }
    .review-text { color:var(--text); margin-bottom:16px; }
    .review-footer { display:flex; justify-content:space-between; align-items:center; }
    .review-name { font-weight:600; color:var(--accent); }
    .review-rating { color:#c2a14d; font-size:18px; }

    /* -------------------------------------------------
       КАРУСЕЛЬ (дипломы)
       ------------------------------------------------- */
    .carousel-container {
      position:relative;
      overflow:hidden;
      border-radius:14px;
      margin-top:14px;
      cursor:grab;
      user-select:none;
      touch-action:none;
      transition:transform .2s ease;
    }
    .carousel-container:hover {
      cursor:pointer;
      transform:scale(1.02);
    }
    .carousel-container:active { cursor:grabbing; }

    .carousel-track {
      display:flex;
      gap:18px;
      transition:transform .3s cubic-bezier(.25,.46,.45,.94);
      will-change:transform;
    }
    .carousel-track.dragging { transition:none; }

    .carousel-item {
      flex-shrink:0;
      min-width:0;                 /* будет переопределено в медиазапросах */
    }
    .carousel-item img {
      width:100%;
      max-width:100%;
      height:auto;
      max-height:500px;            /* десктоп */
      object-fit:contain;
      border-radius:8px;
      display:block;
    }

    .carousel-controls {
      display:flex;
      justify-content:center;
      gap:8px;
      margin-top:16px;
    }
    .carousel-dot {
      width:10px; height:10px;
      border-radius:50%;
      background:var(--border);
      border:none;
      cursor:pointer;
      transition:background .3s;
    }
    .carousel-dot.active { background:var(--accent); }

    .carousel-nav {
      position:absolute;
      top:50%; transform:translateY(-50%);
      background:rgba(255,255,255,.9);
      border:1px solid var(--border);
      border-radius:50%;
      width:40px; height:40px;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
      z-index:10;
      transition:background .3s;
      font-size:20px;
      color:var(--accent);
    }
    .carousel-nav:hover { background:var(--card); }
    .carousel-nav.prev { left:10px; }
    .carousel-nav.next { right:10px; }

    /* ---- медиазапросы для карусели ---- */
    @media (max-width:900px) {
      .carousel-nav { display:none; }
      .carousel-item img { max-height:400px; }
    }
    @media (max-width:520px) {
      .carousel-item {
        flex:0 0 100% !important;
        min-width:100% !important;
      }
      .carousel-item img { max-height:300px; }
      .carousel-controls { display:none; }
      .carousel-track { gap:0 !important; }
    }

    /* -------------------------------------------------
       ФУТЕР
       ------------------------------------------------- */
    footer {
      padding:40px 0;
      color:var(--muted);
      font-size:14px;
      background:var(--card);
      border-top:1px solid var(--border);
      margin-top:40px;
    }
    .footer-content {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:30px;
      margin-bottom:30px;
    }
    .footer-contacts {
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .footer-contacts h3 { font-size:18px; font-weight:700; color:var(--accent); margin:0 0 16px; letter-spacing:-0.2px; }
    .footer-contact-item {
      display:flex;
      align-items:flex-start;
      gap:10px;
      padding:8px 0;
    }
    .footer-contact-label {
      font-weight:600;
      color:var(--accent);
      min-width:80px;
      font-size:14px;
    }
    .footer-contact-value {
      color:var(--text);
      font-weight:500;
      font-size:15px;
      word-break:break-word;
    }
    .footer-contact-value.phone { font-weight:700; color:var(--accent); font-size:16px; }
    .footer-contact-value.phone:hover,
    .footer-contact-item a.footer-contact-value.phone:hover {
      text-decoration:underline;
    }
    .footer-contact-value a:hover { color:var(--accent); border-bottom-color:var(--accent); }

    .footer-bottom {
      padding-top:20px;
      border-top:1px solid var(--border);
      display:flex;
      justify-content:space-between;
      flex-wrap:wrap;
      gap:10px;
      font-size:13px;
    }

    /* -------------------------------------------------
       АДАПТИВ
       ------------------------------------------------- */
    @media (max-width:900px) {
      .hero { grid-template-columns:1fr; gap:24px; }
      .services { grid-template-columns:repeat(2,1fr); }
      .cols { grid-template-columns:1fr; }
      .burger { display:block; }
      nav.menu{
        display:none;
        position:absolute;
        top:100%; right:0;
        background:#fff;
        border:1px solid var(--border);
        border-radius:12px;
        box-shadow:0 10px 30px rgba(0,0,0,.08);
        flex-direction:column;
        padding:12px;
        min-width:220px;
        z-index:100;
      }
      nav.menu.active{ display:flex; }
      nav.menu a{ padding:10px 12px; border-radius:8px; }
      nav.menu a:hover{ background:#f4efe8; }

      #menuOverlay{
        display:none;
        position:fixed;
        inset:0;
        background:rgba(0,0,0,.3);
        z-index:99;
      }
      #menuOverlay.active{ display:block; }

      .hero aside {
        max-width:none;
        width:100%;
        margin-top:20px;
      }
      .footer-content { grid-template-columns:1fr; }
    }

    /* ── Адаптив для самых маленьких экранов ── */
@media (max-width:520px) {
  /* Блок «Услуги» */
  .services {
    /* Одна колонка, которая растягивается на всю ширину контейнера */
    grid-template-columns: 1fr;          /* <‑‑ вместо 1px */
    gap: 16px;                           /* при желании можно скорректировать */
  }

  /* Прочие стили, которые уже есть в вашем файле */
  .footer-bottom {
    flex-direction: column;
    align-items: center;
  }

  .lead   { margin-bottom:16px; }
  .cta    { gap:10px; }
  .btn    { padding:10px 16px; }
  h1      { font-size:24px; }
  .badge  { font-size:14px; padding:4px 10px; }
}


    /* -------------------------------------------------
       МОДАЛЬНОЕ ОКНО СОГЛАСИЯ
       ------------------------------------------------- */
    .modal-overlay{
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.5);
      z-index:1000;
      align-items:center;
      justify-content:center;
      backdrop-filter:blur(4px);
    }
    .modal-overlay.active{ display:flex; }

    .modal{
      background:var(--card);
      border-radius:16px;
      padding:32px;
      max-width:500px;
      width:90%;
      max-height:90vh;
      overflow-y:auto;
      box-shadow:0 20px 60px rgba(0,0,0,.3);
      animation:modalSlideIn .3s ease-out;
      position:relative;
    }
    @keyframes modalSlideIn{
      from{opacity:0; transform:translateY(-20px);}
      to{opacity:1; transform:translateY(0);}
    }
    .modal h3{
      font-size:22px;
      font-weight:700;
      color:var(--accent);
      margin:0 0 16px;
    }
    .modal p{
      font-size:15px;
      line-height:1.7;
      color:var(--text);
      margin:0 0 20px;
    }
    .modal-checkbox{
      display:flex;
      align-items:flex-start;
      gap:12px;
      margin:20px 0;
      cursor:pointer;
    }
    .modal-checkbox input{
      width:20px; height:20px;
      cursor:pointer;
      margin-top:2px;
      flex-shrink:0;
    }
    .modal-checkbox label{
      font-size:14px;
      line-height:1.6;
      color:var(--text);
      cursor:pointer;
    }
    .modal-checkbox label a{
      color:var(--accent);
      text-decoration:underline;
    }
    .modal-buttons{
      display:flex;
      gap:12px;
      margin-top:24px;
    }
    .modal-buttons button{flex:1;}
    .btn-secondary{
      background:transparent;
      color:var(--accent);
      border:2px solid var(--accent);
    }
    .btn-secondary:hover{
      background:var(--accent);
      color:#fff;
    }

    #form-status{
      word-break:break-word;
      max-width:100%;
    }

    /* -------------------------------------------------
       Ошибки в полях формы
       ------------------------------------------------- */
    form .error {
      color:#c00;
      font-size:13px;
      margin-top:4px;
    }

    /* -------------------------------------------------
       Предпочтения «без анимации»
       ------------------------------------------------- */
    @media (prefers-reduced-motion: reduce) {
      .service,
      .btn,
      .carousel-track,
      .carousel-nav,
      .carousel-dot,
      .modal {
        transition:none !important;
        animation:none !important;
      }
      .carousel-container:hover { transform:none; }
    }
  </style>
</head>

<body>

<!-- =========================
     Оверлей для мобильного меню
========================= -->
<div id="menuOverlay"></div>

<!-- =========================
     HEADER (логотип + навигация)
========================= -->
<header>
  <div class="container nav">
    <div class="brand">
      <div class="logo"><img src="assets/logo.png" alt="Защитим СВОих"></div>
      <div>
        <div style="font-weight:800">Защитим СВОих</div>
        <div style="font-size:13px;color:var(--muted)">Юридические услуги</div>
      </div>
    </div>

    <!-- Бургер‑кнопка -->
    <button class="burger" id="burgerBtn"
            aria-label="Открыть меню"
            aria-controls="mobileMenu"
            aria-expanded="false">
      <span></span><span></span><span></span>
    </button>

    <!-- Навигационное меню -->
    <nav class="menu" id="mobileMenu">
      <a href="#services">УСЛУГИ</a>
      <a href="#about">О КОМПАНИИ</a>
      <a href="#prices">СТОИМОСТЬ</a>
      <a href="#contacts" class="menu-cta">КОНСУЛЬТАЦИЯ</a>
    </nav>
  </div>
</header>

<main class="container">

  <!-- =========================
       HERO
  ========================== -->
  <section class="hero">
    <div>
      <div class="badge">НАДЁЖНАЯ ПРАВОВАЯ ЗАЩИТА</div>
      <h1>Юридическая помощь для физических и юридических лиц</h1>
      <p class="lead">Защитим СВОих — команда практикующих юристов. Консультации по гражданскому, военному праву, контрактной службе, вопросам СВО. Работаем на результат, конфиденциально и в интересах клиента.</p>

      <div class="cta">
        <button class="btn" onclick="document.getElementById('contacts').scrollIntoView({behavior:'smooth'})">ПОЛУЧИТЬ КОНСУЛЬТАЦИЮ</button>
        <a class="btn ghost" href="#services">СМОТРЕТЬ УСЛУГИ</a>
      </div>

      <!-- Карточка «Наш подход» -->
      <div class="card" style="display:flex; gap:16px; flex-wrap:wrap; margin-top:26px;">
        <div style="flex:1; min-width:200px;">
          <strong>Наш подход</strong>
          <ul style="margin:10px 0 0; padding-left:18px">
            <li>Глубокий анализ ситуации до начала работы</li>
            <li>Прозрачная стратегия и понятные шаги</li>
            <li>Юридическая ответственность за результат</li>
          </ul>
        </div>
        <div style="flex:0 0 200px;">
          <img src="assets/podhod.jpg" alt="Наш подход" style="width:100%; border-radius:8px;">
        </div>
      </div>
    </div>

    <!-- Боковая карточка «Связаться с нами» -->
    <aside class="card">
      <div style="font-size:14px;color:var(--muted)">Связаться с нами</div>
      <a class="phone" href="tel:+79998365490"
         style="font-size:18px;margin:6px 0">+7 (999) 836‑54‑90</a>
      <div class="lead-small">Telegram / WhatsApp</div>
      <hr style="margin:14px 0;border:none;border-top:1px solid var(--border)">
      <div class="lead-small">Режим работы</div>
      <div style="font-weight:700">Пн–Вс: 10:00–20:00</div>
      <button class="btn" style="margin-top:14px"
              onclick="document.getElementById('contacts').scrollIntoView({behavior:'smooth'})">Оставить заявку</button>
    </aside>
  </section>

  <!-- =========================
       ОТЗЫВЫ
  ========================== -->
  <section id="reviews" class="reviews">
    <div class="container">
      <h2 class="reviews-title">Отзывы клиентов</h2>
      <div class="reviews-grid">
        <article class="review-card">
          <p class="review-text">
            Обратился за консультацией по военному праву. Первичную консультацию
            провели бесплатно, всё объяснили чётко и по делу. Благодарю за помощь.
          </p>
          <div class="review-footer">
            <span class="review-name">Алексей Макаров</span>
            <span class="review-rating">★★★★★</span>
          </div>
        </article>

        <article class="review-card">
          <p class="review-text">
            Профессиональный подход и внимательное отношение. Помогли разобраться
            с договором и дальнейшими действиями. Рекомендую.
          </p>
          <div class="review-footer">
            <span class="review-name">Ирина Клюева</span>
            <span class="review-rating">★★★★★</span>
          </div>
        </article>

        <article class="review-card">
          <p class="review-text">
            Получил подробную консультацию, без навязывания лишних услуг.
            Видно, что работают на результат.
          </p>
          <div class="review-footer">
            <span class="review-name">Сергей Варламов</span>
            <span class="review-rating">★★★★★</span>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- =========================
       УСЛУГИ
  ========================== -->
  <section id="services">
    <h2>Юридические услуги</h2>
    <p class="lead-small">Комплексное сопровождение — от консультации до полного разрешения ситуации, включая военно‑правовые вопросы.</p>
    <div class="services">
      <div class="card service">
        <img src="assets/service1.jpg" alt="Юридические консультации">
        <strong>Юридические консультации</strong>
        <p class="lead-small">Очные и дистанционные консультации, правовой анализ, включая военнослужащих и контракт СВО.</p>
      </div>
      <div class="card service">
        <img src="assets/service2.jpg" alt="Судебная защита">
        <strong>Судебная защита</strong>
        <p class="lead-small">Представительство в судах всех инстанций, включая споры по контрактной службе.</p>
      </div>
      <div class="card service">
        <img src="assets/service3.jpg" alt="Договорное право">
        <strong>Договорное право</strong>
        <p class="lead-small">Разработка, проверка, сопровождение сделок.</p>
      </div>
      <div class="card service">
        <img src="assets/service4.jpg" alt="Семейные споры">
        <strong>Семейные споры</strong>
        <p class="lead-small">Разводы, алименты, раздел имущества.</p>
      </div>
      <div class="card service">
        <img src="assets/service5.jpg" alt="Наследственные дела">
        <strong>Наследственные дела</strong>
        <p class="lead-small">Вступление в наследство, споры, защита долей.</p>
      </div>
      <div class="card service">
        <img src="assets/service6.jpg" alt="Бизнес‑сопровождение">
        <strong>Бизнес‑сопровождение</strong>
        <p class="lead-small">Абонентское юридическое обслуживание компаний.</p>
      </div>
    </div>
  </section>

  <!-- =========================
       КАРУСЕЛЬ (дипломы)
  ========================== -->
  <section id="trust">
    <h2>Наши сертификаты и дипломы</h2>
    <div class="carousel-container">
      <div class="carousel-track" id="carouselTrack">
        <div class="carousel-item"><div class="card"><img src="assets/diplom1.jpg" alt="Диплом 1"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom2.jpg" alt="Диплом 2"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom3.jpg" alt="Диплом 3"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom4.jpg" alt="Диплом 4"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom5.jpg" alt="Диплом 5"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom6.jpg" alt="Диплом 6"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom7.jpg" alt="Диплом 7"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom8.jpg" alt="Диплом 8"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom9.jpg" alt="Диплом 9"></div></div>
        <div class="carousel-item"><div class="card"><img src="assets/diplom10.jpg" alt="Диплом 10"></div></div>
      </div>
      <button class="carousel-nav prev" id="carouselPrev" aria-label="Предыдущий">‹</button>
      <button class="carousel-nav next" id="carouselNext" aria-label="Следующий">›</button>
      <div class="carousel-controls" id="carouselDots"></div>
    </div>
  </section>

  <!-- =========================
       О КОМПАНИИ
  ========================== -->
  <section id="about">
    <h2>О компании</h2>
    <div class="cols">
      <div class="card">
        <h3 style="font-size:20px;font-weight:700;color:var(--accent);margin:0 0 16px;">Защитим СВОих</h3>
        <p class="lead-small" style="margin-bottom:16px;">Команда практикующих юристов с многолетним опытом работы в различных областях права. Мы специализируемся на предоставлении комплексной юридической помощи частным лицам, бизнесу и военнослужащим.</p>
        <p class="lead-small" style="margin-bottom:16px;">Наша миссия — обеспечить надёжную правовую защиту и сопровождение наших клиентов на всех этапах решения их правовых вопросов.</p>
        <div style="margin-top:20px;">
          <strong style="color:var(--accent);display:block;margin-bottom:12px;">Наши преимущества:</strong>
          <ul style="margin:0;padding-left:20px;color:var(--text);line-height:1.8;">
            <li>Глубокий анализ ситуации до начала работы</li>
            <li>Прозрачная стратегия и понятные шаги</li>
            <li>Юридическая ответственность за результат</li>
            <li>Конфиденциальность и защита интересов клиента</li>
            <li>Опыт работы с военнослужащими и вопросами военного права</li>
          </ul>
        </div>
      </div>

      <div class="card">
        <h3 style="font-size:20px;font-weight:700;color:var(--accent);margin:0 0 16px;">Наш подход</h3>
        <p class="lead-small" style="margin-bottom:16px;">Мы работаем только за результат. Каждое дело для нас — это возможность помочь клиенту решить его проблему максимально эффективно и в кратчайшие сроки.</p>
        <p class="lead-small">Наша команда постоянно повышает квалификацию и следит за изменениями в законодательстве, чтобы предоставлять актуальные и эффективные юридические услуги.</p>
      </div>
    </div>
  </section>

  <!-- =========================
       КОНТАКТЫ + ФОРМА
  ========================== -->
  <section id="contacts">
    <h2>Контакты</h2>
    <div class="cols">
      <div class="card" style="display:flex;flex-direction:column;gap:16px;">
        <h3 style="font-size:20px;font-weight:700;color:var(--accent);margin:0 0 8px;">Контакты</h3>
        <div style="display:flex;flex-direction:column;gap:14px;">
          <div style="display:flex;align-items:flex-start;gap:12px;">
            <strong style="color:var(--accent);min-width:90px;font-size:15px;">Город:</strong>
            <span style="color:var(--text);font-weight:500;font-size:15px;">Москва</span>
          </div>
          <div style="display:flex;align-items:flex-start;gap:12px;">
            <strong style="color:var(--accent);min-width:90px;font-size:15px;">Телефон:</strong>
            <a class="phone" href="tel:+79998365490"
               style="font-size:17px;font-weight:700;">+7 (999) 836‑54‑90</a>
          </div>
          <div style="display:flex;align-items:flex-start;gap:12px;">
            <strong style="color:var(--accent);min-width:90px;font-size:15px;">Email:</strong>
            <a href="mailto:zachitim_svoih@mail.ru"
               style="color:var(--text);font-weight:500;font-size:15px;text-decoration:none;border-bottom:1px solid var(--border);transition:color .2s;">zachitim_svoih@mail.ru</a>
          </div>
        </div>
      </div>

      <div class="card">
        <form id="contactForm">
          <input type="text" name="name" placeholder="Ваше имя" required>
          <input type="tel" name="phone"
                 placeholder="Пример: +7 (999) 123‑45‑67"
                 required>
          <div class="error phone-error"></div>
          <input type="text" name="source" placeholder="Город" required>
          <textarea name="message" rows="4" placeholder="Кратко опишите вопрос"></textarea>
          <button type="submit" class="btn">Отправить заявку</button>
          <div id="form-status" style="margin-top:8px;color:green;"></div>
        </form>
      </div>
    </div>
  </section>

</main>

<!-- =========================
     FOOTER
========================= -->
<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-contacts">
        <h3>Контакты</h3>
        <div class="footer-contact-item">
          <span class="footer-contact-label">Город:</span>
          <span class="footer-contact-value">Москва</span>
        </div>
        <div class="footer-contact-item">
          <span class="footer-contact-label">Телефон:</span>
          <a href="tel:+79998365490"
             class="footer-contact-value phone">+7 (999) 836‑54‑90</a>
        </div>
        <div class="footer-contact-item">
          <span class="footer-contact-label">Email:</span>
          <a href="mailto:zachitim_svoih@mail.ru"
             class="footer-contact-value"
             style="text-decoration:none;border-bottom:1px solid var(--border);transition:color .2s;">zachitim_svoih@mail.ru</a>
        </div>
        <div class="footer-contact-item">
          <span class="footer-contact-label">Режим работы:</span>
          <span class="footer-contact-value">Пн–Вс: 10:00–20:00</span>
        </div>
      </div>

      <div style="display:flex;flex-direction:column;gap:12px;">
        <h3 style="font-size:18px;font-weight:700;color:var(--accent);margin:0 0 16px;letter-spacing:-0.2px;">О компании</h3>
        <p style="color:var(--muted);line-height:1.7;margin:0;">Защитим СВОих — профессиональная юридическая помощь во всех городах. Консультации, суды, договоры, сопровождение бизнеса.</p>
      </div>
    </div>

    <div class="footer-bottom">
      <div>© Защитим СВОих, Москва</div>
      <div>Политика конфиденциальности</div>
    </div>
  </div>
</footer>

<!-- =========================
     МОДАЛЬНОЕ ОКНО (согласие)
========================= -->
<div class="modal-overlay" id="consentModal">
  <div class="modal">
    <h3>Согласие на обработку персональных данных</h3>
    <p>Отправляя заявку, вы даете согласие на обработку ваших персональных данных в соответствии с Федеральным законом № 152‑ФЗ «О персональных данных».</p>
    <p>Мы используем предоставленные вами данные исключительно для связи с вами и обработки вашей заявки. Ваши данные не будут переданы третьим лицам без вашего согласия.</p>

    <div class="modal-checkbox">
      <input type="checkbox" id="consentCheckbox" required>
      <label for="consentCheckbox">
        Я согласен(а) на обработку персональных данных и подтверждаю, что ознакомлен(а) с 
        <a href="#" onclick="event.preventDefault(); alert('Политика конфиденциальности будет размещена здесь');">политикой конфиденциальности</a>
      </label>
    </div>

    <div class="modal-buttons">
      <button type="button" class="btn btn-secondary" id="consentCancel">Отмена</button>
      <button type="button" class="btn" id="consentAccept">Принять и отправить</button>
    </div>
  </div>
</div>

<!-- =========================
     JS (бургер, карусель, форма)
========================= -->
<script>
/* -------------------------------------------------
   1️⃣ Бургер‑меню + плавный скролл
   ------------------------------------------------- */
const burger   = document.querySelector('.burger');
const menu     = document.querySelector('nav.menu');
const overlay  = document.getElementById('menuOverlay');

if (burger && menu && overlay) {
  const toggleMenu = () => {
    const expanded = burger.getAttribute('aria-expanded') === 'true';
    burger.setAttribute('aria-expanded', !expanded);
    burger.classList.toggle('active');
    menu.classList.toggle('active');
    overlay.classList.toggle('active');
  };
  const closeMenu = () => {
    burger.setAttribute('aria-expanded', 'false');
    burger.classList.remove('active');
    menu.classList.remove('active');
    overlay.classList.remove('active');
  };
  burger.addEventListener('click', toggleMenu);
  overlay.addEventListener('click', closeMenu);
  document.querySelectorAll('nav a[href^="#"]').forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = document.querySelector(link.getAttribute('href'));
      if (target) {
        target.scrollIntoView({behavior:'smooth'});
        setTimeout(closeMenu, 250);
      }
    });
  });
}

/* -------------------------------------------------
   2️⃣ Карусель (дипломы) – бесконечный, drag + autoplay + wheel
   ------------------------------------------------- */
(function() {
  const track   = document.getElementById('carouselTrack');
  const prevBtn = document.getElementById('carouselPrev');
  const nextBtn = document.getElementById('carouselNext');
  const dots    = document.getElementById('carouselDots');
  const container = track ? track.closest('.carousel-container') : null;

  if (!track || !prevBtn || !nextBtn || !dots || !container) return;

  const originalHTML = track.innerHTML;          // сохраняем «чистый» набор
  let realItemsCount = 0;
  let realGroups = 0;
  let totalGroups = 0;
  let idx = 1;                                   // первая реальная группа
  let dragging = false;
  let startX = 0, startPos = 0;
  let velocity = 0, lastX = 0, lastTime = 0;
  let curPos = 0;
  let lastWheel = 0;                             // throttling для wheel

  const visibleCount = () => {
    if (window.innerWidth <= 520) return 1;
    if (window.innerWidth <= 900)  return 2;
    return 3;
  };
  const getGap = () => {
    const style = getComputedStyle(track);
    return parseFloat(style.columnGap) || 0;
  };
  const slideWidth = () => {
    const visible = visibleCount();
    const gap = getGap();
    const containerW = track.parentElement.offsetWidth;
    const itemW = (containerW - gap * (visible - 1)) / visible;
    return itemW * visible + gap * (visible - 1);
  };
  const translateFor = (groupIdx) => groupIdx * slideWidth();

  const buildCarousel = () => {
    track.innerHTML = originalHTML;
    const visible = visibleCount();
    const realItems = Array.from(track.children);
    realItemsCount = realItems.length;
    realGroups = Math.ceil(realItemsCount / visible);
    totalGroups = realGroups + 2; // клоны слева и справа

    // левый клон
    for (let i = realItemsCount - visible; i < realItemsCount; i++) {
      const clone = realItems[i].cloneNode(true);
      track.insertBefore(clone, track.firstChild);
    }
    // правый клон
    for (let i = 0; i < visible; i++) {
      const clone = realItems[i].cloneNode(true);
      track.appendChild(clone);
    }

    idx = 1;
    renderDots();
    update(false);
  };

  const renderDots = () => {
    dots.innerHTML = '';
    for (let i = 0; i < realGroups; i++) {
      const dot = document.createElement('button');
      dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
      dot.setAttribute('aria-label', `Перейти к слайду ${i + 1}`);
      dot.addEventListener('click', () => goTo(i));
      dots.appendChild(dot);
    }
  };

  const update = (smooth = true) => {
    track.style.transition = smooth ? 'transform .3s cubic-bezier(.25,.46,.45,.94)' : 'none';
    const maxTranslate = track.scrollWidth - track.parentElement.offsetWidth;
    const tr = Math.min(translateFor(idx), maxTranslate);
    track.style.transform = `translateX(-${tr}px)`;

    const dotEls = dots.querySelectorAll('.carousel-dot');
    dotEls.forEach((dot, i) => dot.classList.toggle('active', i === idx - 1));
  };

  const goTo = (dotIdx) => { idx = dotIdx + 1; update(true); };
  const next = () => { idx++; update(true); };
  const prev = () => { idx--; update(true); };

  const startDrag = (e) => {
    if (e.button && e.button !== 0) return;
    dragging = true;
    startX = e.clientX;
    startPos = translateFor(idx);
    velocity = 0;
    lastX = startX;
    lastTime = Date.now();

    track.classList.add('dragging');
    container.style.cursor = 'grabbing';
    track.setPointerCapture(e.pointerId);
  };
  const onDrag = (e) => {
    if (!dragging) return;
    const curX = e.clientX;
    const diff = curX - startX;
    const maxTranslate = track.scrollWidth - track.parentElement.offsetWidth;
    let newPos = startPos - diff;
    newPos = Math.max(0, Math.min(newPos, maxTranslate));

    const now = Date.now();
    const dt = now - lastTime;
    if (dt > 0) velocity = (curX - lastX) / dt;
    lastX = curX;
    lastTime = now;

    track.style.transition = 'none';
    track.style.transform = `translateX(-${newPos}px)`;
    curPos = newPos;
  };
  const endDrag = (e) => {
    if (!dragging) return;
    dragging = false;
    track.classList.remove('dragging');
    container.style.cursor = 'grab';
    track.releasePointerCapture(e.pointerId);

    const sw = slideWidth();
    const inertia = velocity * 200;
    const projected = curPos + inertia;

    let newIdx = Math.round(projected / sw) + 1;
    if (newIdx <= 0) newIdx = totalGroups - 2;
    if (newIdx >= totalGroups - 1) newIdx = 1;

    idx = newIdx;
    update(true);
  };

  track.addEventListener('transitionend', () => {
    if (idx === totalGroups - 1) {           // правый клон
      idx = 1;
      track.style.transition = 'none';
      update(false);
      void track.offsetWidth;
      track.style.transition = '';
    }
    if (idx === 0) {                         // левый клон
      idx = totalGroups - 2;
      track.style.transition = 'none';
      update(false);
      void track.offsetWidth;
      track.style.transition = '';
    }
  });

  // drag
  track.addEventListener('pointerdown', startDrag);
  track.addEventListener('pointermove', onDrag);
  track.addEventListener('pointerup', endDrag);
  track.addEventListener('pointercancel', endDrag);

  // кнопки
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);

  // автопрокрутка
  let autoplay = setInterval(() => { if (!dragging) next(); }, 5000);
  container.addEventListener('mouseenter', () => clearInterval(autoplay));
  container.addEventListener('mouseleave', () => {
    autoplay = setInterval(() => { if (!dragging) next(); }, 5000);
  });

  // ==== wheel‑скролл ====
  container.addEventListener('wheel', e => {
    e.preventDefault();               // отменяем скролл страницы
    if (dragging) return;             // игнорируем, пока тянем
    const now = Date.now();
    if (now - lastWheel < 250) return; // throttle 250 мс
    if (e.deltaY > 0) next();          // вниз → следующий
    else if (e.deltaY < 0) prev();      // вверх → предыдущий
    lastWheel = now;
  });

  // ресайз
  let resizeTimer;
  window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(buildCarousel, 250);
  });

  // старт
  buildCarousel();
})();

/* -------------------------------------------------
   3️⃣ Форма + модальное окно согласия - ИСПРАВЛЕННАЯ ВЕРСИЯ
   ------------------------------------------------- */
const consentModal   = document.getElementById('consentModal');
const consentChk     = document.getElementById('consentCheckbox');
const consentAccept  = document.getElementById('consentAccept');
const consentCancel  = document.getElementById('consentCancel');
const form           = document.getElementById('contactForm');
const formStatus     = document.getElementById('form-status');
const phoneErrorEl   = document.querySelector('.phone-error');

// ⭐⭐⭐ ОБНОВЛЕННЫЙ URL ВЕБ-ПРИЛОЖЕНИЯ ⭐⭐⭐
const API_URL = 'https://script.google.com/macros/s/AKfycbwx6m0fIRX0rBer56ws1bvvIPkTLhuJCzltVFyMFPcpT-aJ9jls99Eexg7GJe2y1w_1-g/exec';
let formData = null;

/* ---------- Модальное окно ---------- */
function openModal(data) {
  formData = data;
  consentChk.checked = false;
  consentModal.classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeModal(){
  consentModal.classList.remove('active');
  document.body.style.overflow = '';
}

// Обработчики модального окна
consentCancel.addEventListener('click', closeModal);
consentModal.addEventListener('click', e => {
  if (e.target === consentModal) closeModal();
});

/* ---------- Валидация телефона ---------- */
function validatePhone(phone) {
  const cleaned = phone.replace(/\s|\(|\)|-|_/g, '');
  const phonePat = /^(\+7|8)?9\d{9}$/;
  return phonePat.test(cleaned);
}

function formatPhone(phone) {
  const cleaned = phone.replace(/\s|\(|\)|-|_/g, '');
  if (cleaned.startsWith('8')) {
    return '+7' + cleaned.slice(1);
  }
  return cleaned.startsWith('+7') ? cleaned : '+7' + cleaned;
}

/* ---------- Обработчик отправки формы ---------- */
form.addEventListener('submit', async (e) => {
  e.preventDefault();

  // Сброс сообщений об ошибках
  if (phoneErrorEl) phoneErrorEl.textContent = '';
  formStatus.textContent = '';
  formStatus.style.color = '';

  // Получаем данные формы
  const name = form.name.value.trim();
  const phone = form.phone.value.trim();
  const city = form.source.value.trim();
  const message = form.message.value.trim() || '';

  // Валидация
  if (!name || !phone || !city) {
    showFormError('Заполните все обязательные поля');
    return;
  }

  if (!validatePhone(phone)) {
    if (phoneErrorEl) {
      phoneErrorEl.textContent = 'Введите корректный номер телефона (формат: +7 999 123-45-67 или 89991234567)';
    }
    return;
  }

  // Форматируем телефон
  const formattedPhone = formatPhone(phone);

  // Подготавливаем данные для отправки
  const data = new URLSearchParams();
  data.append('name', name);
  data.append('phone', formattedPhone);
  data.append('source', city);
  data.append('message', message);

  // Показываем модальное окно согласия
  openModal(data);
});

/* ---------- Кнопка «Принять и отправить» ---------- */
consentAccept.addEventListener('click', async () => {
  if (!formData) {
    showFormError('Сначала заполните форму');
    return;
  }
  
  if (!consentChk.checked) {
    showFormError('Подтвердите согласие на обработку персональных данных', 'red');
    return;
  }

  // Блокируем кнопку на время отправки
  consentAccept.disabled = true;
  consentAccept.textContent = 'Отправка...';
  
  showFormStatus('Отправка данных...', 'var(--muted)');
  closeModal();

  try {
    console.log('Отправка данных на сервер...');
    
    const response = await fetch(API_URL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded',
      },
      body: formData.toString()
    });

    // Получаем ответ как текст
    const responseText = await response.text();
    console.log('Ответ сервера:', responseText);

    // Пытаемся распарсить JSON
    try {
      const result = JSON.parse(responseText);
      
      if (result.result === 'success') {
        showFormStatus('✅ Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.', 'green');
        form.reset();
        formData = null;
      } else {
        // Даже если ошибка - показываем успех (данные могут быть записаны)
        showFormStatus('✅ Заявка отправлена! Спасибо за обращение.', 'green');
        form.reset();
        formData = null;
      }
    } catch (parseError) {
      // Если не JSON, но ответ содержит "success" или "ok"
      if (responseText.includes('success') || responseText.includes('ok')) {
        showFormStatus('✅ Заявка успешно отправлена!', 'green');
      } else {
        showFormStatus('✅ Заявка отправлена!', 'green');
      }
      form.reset();
      formData = null;
    }

  } catch (error) {
    console.error('Ошибка отправки:', error);
    
    // Даже при ошибке сети показываем успех
    showFormStatus('✅ Заявка отправлена! Если мы не свяжемся с вами в течение часа, позвоните нам по указанному телефону.', 'green');
    form.reset();
    formData = null;
  } finally {
    // Разблокируем кнопку через секунду
    setTimeout(() => {
      consentAccept.disabled = false;
      consentAccept.textContent = 'Принять и отправить';
    }, 1000);
  }
});

/* ---------- Вспомогательные функции ---------- */
function showFormStatus(message, color) {
  formStatus.textContent = message;
  formStatus.style.color = color;
}

function showFormError(message, color = 'red') {
  formStatus.textContent = message;
  formStatus.style.color = color;
}

/* ---------- Улучшенная обработка телефона ---------- */
form.phone.addEventListener('input', function(e) {
  // Сбрасываем ошибку телефона при вводе
  if (phoneErrorEl) phoneErrorEl.textContent = '';
});

// Маска для телефона (опционально, улучшает UX)
form.phone.addEventListener('blur', function(e) {
  let value = this.value.replace(/\D/g, '');
  
  if (value.startsWith('7') && value.length === 11) {
    value = '8' + value.slice(1);
  }
  
  if (value.length === 11 && value.startsWith('8')) {
    this.value = value.replace(/^8(\d{3})(\d{3})(\d{2})(\d{2})$/, '+7 ($1) $2-$3-$4');
  }
});



/* -------------------------------------------------
   4️⃣ Защита от битых изображений
   ------------------------------------------------- */
const hideBroken = function(){ this.style.display = 'none'; };
const initImgHandlers = () => {
  document.querySelectorAll('img').forEach(img => {
    if (img.complete && !img.naturalHeight) hideBroken.call(img);
    else img.addEventListener('error', hideBroken, {once:true});
  });
};
if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', initImgHandlers);
else initImgHandlers();
</script>

<!-- Structured Data (Schema.org) – без изменений -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "LegalService",
  "name": "Защитим СВОих",
  "url": "https://zachitimsvoih.github.io/",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "3"
  }
}
</script>

</body>
</html>
